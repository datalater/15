# [TypeScript는 어떻게 공부해야 하나요?](https://yozm.wishket.com/magazine/detail/1376/)

## 타입스크립트 학습 방법

(아이디어) 백엔드 스키파 interface를 만드는 것을 연습해봅시다.

```ts
interface User {
  id: string;
  name: string;
  age: number;
  email: string;
}

const getUser = (id: string): Promise<User> => {
  // ...
};
```

> Axios나 React-Query 혹은 Fetch등과 함께 Response에 interface를 연결하는 작업을 한번 해보고 나면 타입을 외부에서 선언을 해주는 제네릭이라는 개념을 함께 알게 됩니다. 깊은 것은 아직 몰라도 됩니다. `<Type>` 표기를 통해서 적절히 Promise등에 타입을 명시할 수 있다는 개념을 이해하게 되면 `Record` 등을 통해서 조금 더 복잡한 구조의 타입도 정의하는 방법을 알게 됩니다.

> 제네릭: 타입을 외부에서 선언해주는 것

## 타입이 없어서 생기는 자바스크립트의 문제점

(문제점) 자바스크립트는 타입이 없어서 장점이 있었지만 그러한 장점은 프로그램 사이즈가 작을 때 유용했고, 대규모 협업을 위해 이미 만들어진 스키마 위에서 작업할 때는 자잘한 오타로 인한 에러를 잡아주지 못하니 불편한 점이 많았다.

> JavaScript는 타입이 없기에 문법이 단순하며, Dictionary와 Object를 하나로 통합해서 객체를 다루듯이 데이터를 다룰 수 있고 Prototype을 통해 동적으로 타입을 변경할 수도 있고 메소드를 동적으로 교체를 할 수 있으며 Duck Typing을 통해서 굉장히 유연한 체계를 가진다는 장점이 있었습니다.
>
> 하지만 이 장점은 프로그램의 사이즈가 작고 이러한 이점을 잘 사용할 수 있는 라이브러리들에는 아주 유용했지만, 대규모의 협업을 하기 위해 이미 만들어진 스키마 위에서 작업을 하는 과정에서 자잘한 오타로 인한 에러가 발생되었습니다. 무엇보다 그 에러는 바로 확인되는 게 아니었기에, 실행하면서 런타임이 되어서야 에러를 발견할 수 있다는 치명적인 문제는 생산성의 큰 저하를 가져왔습니다.

(아이디어) 자바스크립트에 정적 타입 언어의 장점인 빌드 전에 오류를 검증할 수 있는 장점을 합치자.

> 이러한 연유로 기존 JavaScript의 동적 타입 체계를 완전히 뒤엎어 기존의 타입을 통해 컴파일이 메모리 사용에 대한 최적화를 할 수 있는 언어로 바꾸는 것은 아니지만, 정적 타입 언어의 장점인 빌드 전에 미리 오류를 검증할 수 있다는 장점만 합치는 방향으로 발전을 하게 됩니다.

(역사) 마이크로소프트웨어의 등장

> JavaScript를 ECMAScript4의 형태로 가장 만들고 싶어했던 벤더는 Microsoft였습니다. 이미 C++, C# 등의 언어를 만들어서 성공했던 경험이 있을뿐더러 Visual Studio 등을 통해서 IDE를 이용한 수익이나 개발 관련해서 영향력을 행사하고 있었기 때문입니다.
>
> 마이크로소프트웨어도 주류가 되어버린 웹으로 오게 되면서 기존에 만들었던 핵심 애플리케이션인 오피스와 함께 Visual Studio를 웹으로 옮기려는 시도를 하게 되고 우리가 너무나 잘 쓰고 있는 VSCode가 탄생하게 됩니다. 기존 Visual Studio에서의 가장 큰 강점이라고 하면 정적 언어에 대한 AutoComplete와 다양한 보조도구들이었는데 JavaScript는 기존의 언어와는 결이 맞지 않았습니다.
>
> 그리하여 자기들이 가지고 있는 언어인 c#과 유사한 형태로 언어를 만들되 기존의 언어를 바꾸는 시도가 모두 실패했다는 것을 거울삼아 JavaScript를 버리고 새로운 언어를 배워야만 하는 게 아니라 JavaScript의 원형을 그대로 살리면서 본인들의 IDE에서 제대로 동작할 수 있도록 하기 위한 언어를 만들어내기 시작합니다.
>
> 모든 CSS가 Sass이듯이 그리하여 모든 JavaScript는 TypeScript다라는 superset이라는 컨셉으로 기존의 JavaScript는 TypeScript엔진에서도 돌아가게 만드는 방법을 택했고 이 방식은 아시다시피 상당히 유효했습니다.

## 마이크로소프트의 문제 해결 방식

(문제) 타입스크립트는 타입 유효성 검사와 자동완성이라는 장점이 있지만 빌드 속도가 느리다는 단점이 있었다. tsc의 속도가 엄청나게 느리기 때문이다.

> tsc로 타입 체크를 하고 한번 빌드를 하기 위해서는 적지 않은 시간이 필요합니다. 프로그래밍의 덩치가 크면 클수록 그 시간은 엄청나죠. 빌드와 배포가 느려진다는 것은 그만큼 생산성을 까먹는 일이기도 합니다. 그러다 보면 TypeScript가 좋은 건 알겠지만 굳이 필요한가 라는 생각을 하게 됩니다.

(아이디어) 빌드할 때 타입 체크를 하지 않는다. 대신 타입 체크를 IDE의 백그라운드에서 한다. 빌드할 때는 타입 체크 과정을 빼고 Babel에서 타입스크립트의 문법만 제거해서 자바스크립트로 만든다. 그러면 속도 문제를 해결할 수 있다.

> 그래서 TypeScript에서는 이러한 속도의 문제를 해결하기 위해서 IDE에서는 백그라운드에서 체크를 하고 실제 빌드 시에는 타입 체크를 하지 않고 빌드를 하는 묘수를 생각해내게 됩니다.
>
> TypeScript는 결국 JavaScript를 만들어내는 도구입니다. 정적 타입은 유효성 체크일 뿐 타입이 맞지 않다고 해서 JavaScript로써 동작을 하지 않는 것은 아닙니다. TypeScript는 Babel과 손을 잡고 Babel의 Parser에 TypeScript를 지원하게 하고 Babel에서는 TypeScript의 문법만 제거해서 JavaScript로 만들어 주는 플러그인 개발을 성공합니다.
>
> 그래서 tsc로 컴파일을 하지 않고서 그냥 TypeScript를 JavaScript로 만들고 번들 툴을 이용해서 빌드하는 방식을 통해서 빌드 속도를 대폭 올릴 수 있게 되었습니다.
>
> 그 이후로는 esbuild가 나오면서 TypeScript의 속도 문제는 어디상 문제의 영역이 되지 않게 되었습니다. JavaScript가 아닌 Go 언어로 만들어져서 스크립트가 아니라 native방식으로 동작하는 esbuild은 기존 번들 툴의 100배나 빠른 속도를 자랑합니다.

> 이로 인해서 타입 스크립트로 빌드하는 과정에서 속도의 문제로 인해 성능이 저하되는 대신 타입 유효성 검사와 AutoComplete를 지원한다는 트레이드오프에서 속도는 더 이상 기회비용이 아니게 되었습니다.
