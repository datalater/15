# [카카오페이지는 BFF(Backend For Frontend)를 어떻게 적용했을까?](https://fe-developers.kakaoent.com/2022/220310-kakaopage-bff/)

(problem) API 직접 의존에서 생기는 문제

> - MSA(Micro Service Architecture) 환경에서 API 엔드포인트가 분리될 때 팔로업 이슈
> - 브라우저의 숙명인 CORS 이슈
> - API 입장에서 여러 플랫폼과 스펙을 맞출 때의 커뮤니케이션 비용
> - 플랫폼별로 다를 수 밖에 없는 인증 방식을 통합하려는 무리한 시도
> - 클라이언트의 꿈인 ‘화면에 필요한 데이터만 받는’ partial response를 하기 어려운 이슈

(terms) BFF란 무엇인가

> API를 다이렉트로 의존할 때의 이슈들을 해결하고자 BFF가 등장합니다. `Backend For Frontend`라는 말 그대로 프론트엔드를 위한 중간 서버를 구현하는 것이라고 생각하면 됩니다.

(when) 언제 필요하나

> 하나의 프론트엔드에 대해 하나의 BFF가 있어야 하며 BFF를 프론트엔드 요구사항에 맞게 구현할 수 있습니다. 따라서, 여러 플랫폼을 지원하지 않을 경우에는 BFF가 의미 없을 수 있습니다.

(how) BFF를 어떻게 사용해야 하나

> BFF에서는 프론트엔드 생선성을 더욱 높이기 위해, 데이터를 통합하는 처리를 담당합니다. 또한, BFF를 구현하여 프론트엔드를 백엔드에서 분리된 상태로 유지할 수 있습니다. BFF는 프론트엔드 요구사항을 충족하기 위해 존재하며, 이상적으로는 프론트엔드 개발자가 빌드 해야 합니다.

(example) GraphQL

> graphql은 BFF를 구현하기 위한 구현체로 선택한 부분입니다.

(solve) 문제를 어떻게 해결하는가

> API 응답값을 BFF에서 받아서 프론트엔드에 필요한 모델 타입으로 변경해서 내려줍니다. 즉 화면에 필요한 데이터만 가공해서 내려주고, GraphQL에서 캐싱 처리하여 프론트엔드 쪽에서는 수정할 필요 없이 데이터를 바로 화면에 그릴 수 있게 됩니다.

(summary) BFF의 가장 큰 장점

> `실제 비즈니스 로직의 구현`과 `응답 데이터를 클라이언트에서 요구되는 데이터로 파싱`하는 두가지 관점을 분리하여 복잡도를 낮추고, 필요한 작업에 집중하기 쉬워지는 것이라고 생각합니다.
